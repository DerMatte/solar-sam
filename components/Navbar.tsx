import Link from "next/link";
import Image from "next/future/image";
// import Logo from "../components/Logo";
import { CallToActionNav } from "./CallToAction";
import cn from "classnames";
import Logo from "public/img/SolarSamLogo.png";
import { List, X } from "phosphor-react";

import { Fragment } from "react";
import { Disclosure, Menu, Transition } from "@headlessui/react";

import { withRouter } from "next/router";

const navigation = [
  { name: "Home", href: "/", current: true },
  { name: "Services", href: "/services", current: false },
  { name: "Projects", href: "/projects", current: false },
  { name: "About", href: "/about", current: false },
];

// const Logo = () => {
//   return (
//     <h1 className="flex items-center justify-center text-xl font-bold">
//       SolarSam
//     </h1>
//   );
// };
// import * as React from "react";

// const Logo = (props: React.SVGProps<SVGSVGElement>) => {
//   return (
//     <svg
//       width={444}
//       height={219}
//       fill="none"
//       xmlns="http://www.w3.org/2000/svg"
//       {...props}
//     >
//       <path
//         d="M43.99 46.261c-.273-2.75-1.443-4.886-3.511-6.409-2.069-1.522-4.875-2.284-8.42-2.284-2.41 0-4.444.341-6.103 1.023-1.66.659-2.932 1.58-3.818 2.761-.864 1.182-1.296 2.523-1.296 4.023-.045 1.25.216 2.34.784 3.273.591.931 1.398 1.738 2.42 2.42 1.024.66 2.205 1.239 3.546 1.739a36.75 36.75 0 004.296 1.227l6.272 1.5c3.046.682 5.841 1.591 8.387 2.727 2.545 1.137 4.75 2.534 6.614 4.194a17.43 17.43 0 014.33 5.863c1.044 2.25 1.579 4.83 1.601 7.739-.022 4.272-1.113 7.977-3.272 11.114-2.137 3.113-5.228 5.533-9.273 7.26-4.023 1.705-8.875 2.558-14.557 2.558-5.636 0-10.545-.864-14.727-2.591-4.16-1.727-7.41-4.284-9.75-7.67-2.318-3.41-3.534-7.626-3.648-12.648H18.15c.16 2.34.83 4.295 2.011 5.863 1.205 1.546 2.807 2.716 4.807 3.511 2.023.773 4.307 1.16 6.853 1.16 2.5 0 4.67-.364 6.511-1.091 1.864-.727 3.307-1.739 4.33-3.034 1.022-1.296 1.534-2.785 1.534-4.466 0-1.569-.466-2.887-1.398-3.955-.91-1.068-2.25-1.977-4.023-2.727-1.75-.75-3.898-1.432-6.443-2.045l-7.602-1.91c-5.887-1.431-10.534-3.67-13.943-6.715-3.41-3.046-5.103-7.148-5.08-12.307-.023-4.228 1.102-7.92 3.375-11.08 2.295-3.159 5.443-5.625 9.443-7.398 4-1.772 8.546-2.659 13.636-2.659 5.182 0 9.705.887 13.569 2.66 3.886 1.772 6.909 4.238 9.068 7.397 2.159 3.16 3.273 6.818 3.34 10.977H43.99zm48.418 50.762c-5.296 0-9.875-1.125-13.739-3.375-3.84-2.273-6.807-5.432-8.898-9.477-2.09-4.069-3.136-8.785-3.136-14.148 0-5.41 1.045-10.137 3.136-14.182 2.091-4.068 5.057-7.227 8.898-9.477 3.864-2.273 8.443-3.41 13.739-3.41 5.295 0 9.863 1.137 13.704 3.41 3.864 2.25 6.841 5.409 8.932 9.477 2.091 4.045 3.136 8.773 3.136 14.182 0 5.363-1.045 10.08-3.136 14.148-2.091 4.045-5.068 7.204-8.932 9.477-3.841 2.25-8.409 3.375-13.704 3.375zm.068-11.25c2.409 0 4.42-.682 6.034-2.046 1.614-1.386 2.829-3.273 3.648-5.659.841-2.386 1.261-5.102 1.261-8.147 0-3.046-.42-5.762-1.261-8.148-.819-2.387-2.034-4.273-3.648-5.66-1.614-1.386-3.625-2.079-6.034-2.079-2.432 0-4.477.693-6.136 2.08-1.637 1.386-2.876 3.272-3.716 5.659-.819 2.386-1.228 5.102-1.228 8.148 0 3.045.41 5.76 1.228 8.147.84 2.386 2.08 4.273 3.716 5.66 1.659 1.363 3.704 2.045 6.136 2.045zm49.67-59.591V96h-14.522V26.182h14.522zm26.566 70.807c-3.341 0-6.319-.58-8.932-1.739-2.614-1.182-4.682-2.92-6.205-5.216-1.5-2.318-2.25-5.205-2.25-8.659 0-2.91.534-5.352 1.603-7.33 1.068-1.977 2.522-3.568 4.363-4.772 1.841-1.205 3.932-2.114 6.273-2.727a47.815 47.815 0 017.432-1.296c3.045-.318 5.5-.614 7.363-.886 1.864-.296 3.216-.728 4.057-1.296.841-.568 1.262-1.409 1.262-2.523v-.204c0-2.16-.682-3.83-2.046-5.011-1.341-1.182-3.25-1.773-5.727-1.773-2.614 0-4.693.58-6.239 1.738-1.545 1.137-2.568 2.569-3.068 4.296L153.166 58.5c.682-3.182 2.023-5.932 4.023-8.25 2-2.34 4.579-4.136 7.739-5.386 3.181-1.273 6.863-1.91 11.045-1.91 2.909 0 5.693.341 8.352 1.023 2.682.682 5.057 1.739 7.125 3.17a15.402 15.402 0 014.943 5.523c1.205 2.228 1.807 4.898 1.807 8.012V96h-13.772v-7.261h-.41a14.748 14.748 0 01-3.375 4.33c-1.409 1.227-3.102 2.192-5.079 2.897-1.977.682-4.261 1.023-6.852 1.023zm4.159-10.023c2.136 0 4.022-.42 5.659-1.261 1.636-.864 2.92-2.023 3.852-3.478.932-1.454 1.398-3.102 1.398-4.943v-5.557c-.455.296-1.08.569-1.875.819-.773.227-1.648.443-2.625.647-.977.182-1.955.353-2.932.511-.977.137-1.864.262-2.659.376-1.705.25-3.193.647-4.466 1.193-1.273.545-2.261 1.284-2.966 2.216-.704.909-1.057 2.045-1.057 3.409 0 1.977.716 3.488 2.148 4.534 1.455 1.022 3.295 1.534 5.523 1.534zM209.467 96V43.636h14.08v9.137h.545c.955-3.25 2.557-5.705 4.807-7.364 2.25-1.682 4.841-2.523 7.773-2.523.727 0 1.511.046 2.352.137.841.09 1.58.216 2.216.375v12.886c-.682-.204-1.625-.386-2.829-.545a25.425 25.425 0 00-3.307-.239c-2.137 0-4.046.466-5.728 1.398a10.289 10.289 0 00-3.954 3.818c-.955 1.636-1.432 3.523-1.432 5.659V96h-14.523zM105.365 139.261c-.273-2.75-1.443-4.886-3.511-6.409-2.069-1.522-4.875-2.284-8.42-2.284-2.41 0-4.444.341-6.103 1.023-1.66.659-2.932 1.579-3.818 2.761-.864 1.182-1.296 2.523-1.296 4.023-.045 1.25.216 2.341.784 3.273.591.932 1.398 1.738 2.42 2.42 1.024.659 2.205 1.239 3.546 1.739 1.341.477 2.773.886 4.296 1.227l6.272 1.5c3.046.682 5.841 1.591 8.387 2.727 2.545 1.137 4.75 2.534 6.614 4.194a17.435 17.435 0 014.329 5.863c1.046 2.25 1.58 4.83 1.602 7.739-.022 4.273-1.113 7.977-3.272 11.113-2.137 3.114-5.228 5.535-9.273 7.262-4.023 1.704-8.875 2.557-14.557 2.557-5.636 0-10.545-.864-14.727-2.591-4.16-1.728-7.41-4.284-9.75-7.671-2.318-3.409-3.534-7.625-3.648-12.647h14.284c.16 2.34.83 4.295 2.011 5.863 1.205 1.546 2.807 2.716 4.807 3.512 2.023.772 4.307 1.159 6.853 1.159 2.5 0 4.67-.364 6.511-1.091 1.864-.728 3.307-1.739 4.33-3.034 1.022-1.296 1.534-2.784 1.534-4.466 0-1.568-.466-2.887-1.398-3.955-.909-1.068-2.25-1.977-4.023-2.727-1.75-.75-3.898-1.432-6.443-2.046l-7.602-1.909c-5.887-1.431-10.534-3.67-13.944-6.716-3.409-3.045-5.102-7.147-5.079-12.306-.023-4.228 1.102-7.921 3.375-11.08 2.295-3.159 5.443-5.625 9.443-7.398 4-1.772 8.546-2.659 13.636-2.659 5.182 0 9.705.887 13.569 2.659 3.886 1.773 6.909 4.239 9.068 7.398s3.273 6.818 3.341 10.977h-14.148zm39.69 50.728c-3.341 0-6.318-.58-8.931-1.739-2.614-1.182-4.682-2.92-6.205-5.216-1.5-2.318-2.25-5.204-2.25-8.659 0-2.909.534-5.352 1.602-7.33 1.068-1.977 2.523-3.568 4.364-4.772 1.841-1.205 3.932-2.114 6.273-2.728a47.885 47.885 0 017.431-1.295c3.046-.318 5.5-.614 7.364-.886 1.864-.296 3.216-.728 4.057-1.296.841-.568 1.261-1.409 1.261-2.523v-.204c0-2.159-.682-3.83-2.045-5.011-1.341-1.182-3.25-1.773-5.727-1.773-2.614 0-4.694.579-6.239 1.738-1.546 1.137-2.568 2.569-3.068 4.296L129.51 151.5c.682-3.182 2.023-5.932 4.023-8.25 2-2.341 4.579-4.136 7.738-5.386 3.182-1.273 6.864-1.909 11.046-1.909 2.909 0 5.693.34 8.352 1.022 2.682.682 5.057 1.739 7.125 3.171a15.401 15.401 0 014.943 5.522c1.205 2.228 1.807 4.898 1.807 8.012V189h-13.773v-7.261h-.409a14.784 14.784 0 01-3.375 4.329c-1.409 1.227-3.102 2.193-5.079 2.898-1.978.682-4.262 1.023-6.853 1.023zm4.159-10.023c2.137 0 4.023-.421 5.66-1.261 1.636-.864 2.92-2.023 3.852-3.478.932-1.454 1.398-3.102 1.398-4.943v-5.557c-.455.296-1.08.568-1.875.818-.773.228-1.648.444-2.625.648-.978.182-1.955.352-2.932.512-.978.136-1.864.261-2.659.375-1.705.25-3.194.647-4.466 1.193-1.273.545-2.262 1.284-2.966 2.216-.705.909-1.057 2.045-1.057 3.409 0 1.977.716 3.488 2.148 4.534 1.454 1.023 3.295 1.534 5.522 1.534zM185.811 189v-52.364h13.841v9.239h.614c1.091-3.068 2.909-5.489 5.454-7.261 2.546-1.773 5.591-2.659 9.137-2.659 3.59 0 6.647.897 9.17 2.693 2.523 1.772 4.205 4.182 5.045 7.227h.546c1.068-3 3-5.398 5.795-7.193 2.819-1.818 6.148-2.727 9.989-2.727 4.886 0 8.852 1.556 11.898 4.67 3.068 3.091 4.602 7.477 4.602 13.159V189h-14.489v-32.352c0-2.909-.772-5.091-2.318-6.546-1.545-1.454-3.477-2.182-5.795-2.182-2.637 0-4.693.841-6.171 2.523-1.477 1.659-2.216 3.852-2.216 6.58V189h-14.079v-32.659c0-2.568-.739-4.614-2.216-6.136-1.455-1.523-3.375-2.285-5.761-2.285-1.614 0-3.069.41-4.364 1.228-1.273.795-2.284 1.92-3.034 3.375-.75 1.432-1.125 3.113-1.125 5.045V189h-14.523z"
//         fill="#000"
//       />
//       <path
//         d="M334.6 216l15.2-76.071-60.8-22.822L395.4 3l-15.2 76.071 60.8 22.822L334.6 216z"
//         fill="#F2C94C"
//         stroke="#000"
//         strokeWidth={5}
//         strokeLinecap="round"
//         strokeLinejoin="round"
//       />
//     </svg>
//   );
// }

const Navbar = ({ router }) => {
  let path = router.pathname;

  return (
    <Disclosure as="nav" className="text-black">
      {({ open }) => (
        <>
          <div className="mx-auto py-2 px-2 sm:px-6 lg:px-16">
            <div className="relative flex h-16 items-center justify-between">
              <div className="absolute inset-y-0 left-0 flex items-center sm:hidden">
                {/* Mobile menu button*/}
                <Disclosure.Button className="inline-flex items-center justify-center rounded-md p-2 text-black hover:bg-black  hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white">
                  <span className="sr-only">Open main menu</span>
                  {open ? (
                    <X className="block h-6 w-6" aria-hidden="true" />
                  ) : (
                    <List className="block h-6 w-6" aria-hidden="true" />
                  )}
                </Disclosure.Button>
              </div>
              <div className="flex flex-1 items-center justify-center sm:items-stretch sm:justify-start">
                <Link href="/">
                  <a className="flex flex-shrink-0 items-center">
                    <Image
                      className="block h-10 w-auto lg:hidden"
                      src={Logo}
                      alt="Solar Sam"
                    />
                    <Image
                      className="hidden h-10 w-auto lg:block"
                      src={Logo}
                      alt="Solar Sam"
                    />
                  </a>
                </Link>
                <div className="hidden sm:ml-6 sm:block">
                  <div className="flex space-x-4">
                    {navigation.map((item) => (
                      <a
                        key={item.name}
                        href={item.href}
                        className={cn(
                          item.href == path
                            ? "decoration-yellow hover:.bg-[#696969]/10 underline decoration-2 underline-offset-2"
                            : "hover:decoration-yellow hover:.bg-[#696969]/10 decoration-2 underline-offset-2 hover:underline",
                          "rounded-lg px-[20px] py-[10px] font-medium text-black"
                        )}
                        aria-current={item.href == path ? "page" : undefined}
                      >
                        {item.name}
                      </a>
                    ))}
                  </div>
                </div>
              </div>
              <div className="absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0">
                <CallToActionNav />
              </div>
            </div>
          </div>
          {/* Mobile Menu */}
          <Disclosure.Panel className="sm:hidden">
            <div className="space-y-2 px-2 pt-2 pb-3">
              {navigation.map((item) => (
                <Disclosure.Button
                  key={item.name}
                  as="a"
                  href={item.href}
                  className={cn(
                    item.href == path
                      ? "bg-[#696969] text-white "
                      : "hover:text-white",
                    "hover:bg-yellow block rounded-md px-3 py-2 text-base font-medium transition-all duration-75"
                  )}
                  aria-current={item.href == path ? "page" : undefined}
                >
                  {item.name}
                </Disclosure.Button>
              ))}
            </div>
          </Disclosure.Panel>
        </>
      )}
    </Disclosure>
  );
};

export default withRouter(Navbar);
